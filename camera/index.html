<!doctype html>

<head>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
</head>

<body class="mdc-typography">
  <p>Take a picture or upload using your device by clicking on the <i class="material-icons">photo_camera</i> button.
  </p>
  <p>The file type and content length will be displayed at the bottom.</p>
  <button class="mdc-icon-button material-icons" onclick="onTakePicture()">photo_camera</button>
  <pre id="output"></pre>
  <input id="file" type="file" capture accept="image/*" hidden>

  <script>
    /** @type {HTMLInputElement} */
    const outputEl = document.getElementById('output');

    const fileEl = document.getElementById('file');
    fileEl.addEventListener('input', () => onInput(fileEl));

    function onTakePicture() {
      fileEl.click();
    }

    function onInput(fileEl) {
      const file = fileEl.files[0];
      const fileReader = new FileReader();
      fileReader.onload = () => {
        outputEl.innerText = `file.type = ${file.type}\nfileReader.result.byteLength = ${fileReader.result.byteLength}`;
      };
      fileReader.readAsArrayBuffer(file);
    }
  </script>
</body>
