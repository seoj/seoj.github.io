{"version":3,"sources":["/Users/seoj/workspace/tasks/src async","/Users/seoj/workspace/tasks/src/app/app.component.css","/Users/seoj/workspace/tasks/src/app/app.component.html","/Users/seoj/workspace/tasks/src/app/app.component.ts","/Users/seoj/workspace/tasks/src/app/app.module.ts","/Users/seoj/workspace/tasks/src/app/task.ts","/Users/seoj/workspace/tasks/src/app/taskstatus.ts","/Users/seoj/workspace/tasks/src/environments/environment.ts","/Users/seoj/workspace/tasks/src/main.ts","fs (ignored)","path (ignored)","crypto (ignored)"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/seoj/workspace/tasks/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/seoj/workspace/tasks/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = 1","module.exports = \"<section *ngIf=\\\"!dependencyModeTask\\\">\\n  <section>\\n    <button (click)=\\\"addTask()\\\">add</button>\\n    <button (click)=\\\"sortTasks()\\\">sort</button>\\n  </section>\\n  <table>\\n    <thead>\\n      <tr>\\n        <th>Name</th>\\n        <th>Status</th>\\n        <th>Dependencies</th>\\n        <th></th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr *ngFor=\\\"let task of tasks\\\">\\n        <td>\\n          <input [(ngModel)]=\\\"task.name\\\" (keyup)=\\\"onChange()\\\" />\\n        </td>\\n        <td>\\n          <select [(ngModel)]=\\\"task.status\\\" (change)=\\\"onChange()\\\">\\n            <option *ngFor=\\\"let status of statuses\\\" [ngValue]=\\\"status\\\">\\n              {{status.name}}\\n            </option>\\n          </select>\\n        </td>\\n        <td>\\n          <button *ngFor=\\\"let dependency of task.dependencies\\\" (click)=\\\"deleteDependency(task, dependency)\\\">\\n            {{dependency.name}}\\n          </button>\\n          <button (click)=\\\"enableDependencyMode(task)\\\">add</button>\\n        </td>\\n        <td>\\n          <button (click)=\\\"deleteTask(task)\\\">delete</button>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</section>\\n<section *ngIf=\\\"dependencyModeTask\\\">\\n  <section>\\n    <button (click)=\\\"disableDependencyMode()\\\">done</button>\\n  </section>\\n  <table>\\n    <thead>\\n      <tr>\\n        <th></th>\\n        <th>Name</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr *ngFor=\\\"let task of tasks\\\">\\n        <td>\\n          <input type=\\\"checkbox\\\" [ngModel]=\\\"dependencyModeTask.hasDependency(task)\\\" (change)=\\\"toggleDependency(task)\\\" *ngIf=\\\"task.id !== dependencyModeTask.id\\\"\\n          />\\n        </td>\\n        <td>\\n          <input [(ngModel)]=\\\"task.name\\\" disabled />\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</section>\\n<section>\\n  <div [innerHTML]=\\\"svg\\\"></div>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/seoj/workspace/tasks/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { Task } from \"./task\";\nimport { TaskStatus } from \"./taskstatus\";\nimport Viz from 'viz.js/viz-lite';\nimport { DomSanitizer, SafeHtml } from \"@angular/platform-browser\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  tasks: Task[] = [];\n  readonly statuses = TaskStatus.STATUSES;\n  dependencyModeTask?: Task;\n  svg?: SafeHtml;\n\n  constructor(private readonly domSanitizer: DomSanitizer) {\n    const serialized = localStorage.getItem('tasks');\n    if (serialized) {\n      const json = JSON.parse(serialized);\n      const serializedTasks = (json['tasks'] as any[]);\n      this.tasks = serializedTasks.map(e => Task.deserialize(e));\n      serializedTasks.forEach(serializedTask => {\n        this.tasks.find(e => e.id === serializedTask['id']).dependencies =\n          (serializedTask['dependencies'] as number[])\n            .map(dependencyId => this.tasks.find(task => task.id === dependencyId));\n      });\n      let maxId = 0;\n      this.tasks.forEach(task => {\n        if (task.id > maxId) {\n          maxId = task.id;\n        }\n      });\n      Task.nextId = maxId + 1;\n    }\n    else {\n      this.addTask();\n    }\n\n    this.updateSvg();\n  }\n\n  onChange() {\n    window.setTimeout(() => {\n      localStorage.setItem('tasks', JSON.stringify({\n        tasks: this.tasks.map(e => e.serialize())\n      }));\n\n      this.updateSvg();\n    });\n  }\n\n  private updateSvg() {\n    const buffer = ['digraph G{\\n'];\n    this.tasks.forEach(task => {\n      let fillcolor = 'white';\n      if (task.status === TaskStatus.IN_PROGRESS) {\n        fillcolor = 'orange';\n      } else if (task.status === TaskStatus.IN_REVIEW) {\n        fillcolor = 'lightblue';\n      } else if (task.status === TaskStatus.COMPLETED) {\n        fillcolor = 'springgreen';\n      }\n      buffer.push(`\\t${task.id} [label=\"${task.name}\", style=filled, fillcolor=${fillcolor}]\\n`);\n    });\n    buffer.push('\\n');\n    this.tasks.forEach(task => {\n      task.dependencies.forEach(dependency => {\n        buffer.push(`\\t${dependency.id}->${task.id}\\n`);\n      });\n    });\n    buffer.push('}');\n    this.svg = this.domSanitizer.bypassSecurityTrustHtml(Viz(buffer.join('')));\n  }\n\n  enableDependencyMode(task: Task) {\n    this.dependencyModeTask = task;\n  }\n\n  disableDependencyMode() {\n    this.dependencyModeTask = null;\n  }\n\n  addTask() {\n    this.tasks.push(new Task());\n    this.onChange();\n  }\n\n  deleteTask(task: Task, fireEvent = true) {\n    const index = this.tasks.findIndex(e => e.id === task.id);\n    if (index >= 0) {\n      this.tasks.splice(index, 1);\n      this.tasks.forEach(e => {\n        e.deleteDependency(task);\n      });\n      if (fireEvent) {\n        this.onChange();\n      }\n    }\n  }\n\n  toggleDependency(dependency: Task) {\n    this.dependencyModeTask.toggleDependency(dependency);\n    this.onChange();\n  }\n\n  deleteDependency(task: Task, dependency: Task) {\n    task.deleteDependency(dependency);\n    this.onChange();\n  }\n\n  sortTasks() {\n    const dependentsById: { [dependencyId: number]: Task[] } = {};\n    this.tasks.forEach(dependent => {\n      dependent.dependencies.forEach((dependency) => {\n        const dependents = dependentsById[dependency.id] || [];\n        dependents.push(dependent);\n        dependentsById[dependency.id] = dependents;\n      });\n    });\n\n    const sorted = [];\n    const queue = this.tasks.filter(task => task.dependencies.length === 0);\n    console.log(queue.map(task => task.name));\n\n    while (queue.length > 0) {\n      const task = queue.shift();\n      if (!sorted.find(e => e.id === task.id)) {\n        sorted.push(task);\n      }\n      const dependents = dependentsById[task.id];\n      if (dependents) {\n        dependents.forEach(dependent => {\n          queue.push(dependent);\n        });\n      }\n    }\n\n    this.tasks = sorted;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule, FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/app/app.module.ts","import { TaskStatus } from \"./taskstatus\";\n\nexport class Task {\n  static nextId = 0;\n\n  static deserialize(serialized: any) {\n    const task = new Task();\n    task.id = serialized['id'];\n    task.name = serialized['name'];\n    task.status = TaskStatus.getStatus(serialized['status']);\n    return task;\n  }\n\n  id = Task.nextId++;\n  name = `Task ${this.id}`;\n  status = TaskStatus.NOT_STARTED;\n  dependencies: Task[] = [];\n\n  hasDependency(task: Task) {\n    return !!this.dependencies.find(e => e.id === task.id);\n  }\n\n  toggleDependency(task: Task) {\n    const index = this.dependencies.findIndex(e => e.id === task.id);\n    if (index < 0) {\n      this.dependencies.push(task);\n    } else {\n      this.dependencies.splice(index, 1);\n    }\n  }\n\n  deleteDependency(task: Task) {\n    const index = this.dependencies.findIndex(e => e.id === task.id);\n    if (index >= 0) {\n      this.dependencies.splice(index, 1);\n    }\n  }\n\n  serialize() {\n    return {\n      id: this.id,\n      name: this.name,\n      status: this.status.id,\n      dependencies: this.dependencies.map(e => e.id)\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/app/task.ts","export class TaskStatus {\n  static NOT_STARTED = new TaskStatus('NOT_STARTED', 'Not started');\n  static IN_PROGRESS = new TaskStatus('IN_PROGRESS', 'In progress');\n  static IN_REVIEW = new TaskStatus('IN_REVIEW', 'In review');\n  static COMPLETED = new TaskStatus('COMPLETED', 'Completed');\n  static STATUSES = [TaskStatus.NOT_STARTED, TaskStatus.IN_PROGRESS, TaskStatus.IN_REVIEW, TaskStatus.COMPLETED];\n\n  static getStatus(id: string) {\n    return TaskStatus.STATUSES.find(e => e.id === id);\n  }\n\n  constructor(readonly id: string, readonly name: string) { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/app/taskstatus.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/seoj/workspace/tasks/src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 0\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// path (ignored)\n// module id = 1\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 2\n// module chunks = 1"],"sourceRoot":"webpack:///"}